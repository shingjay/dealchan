<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xsi:schemaLocation="http://www.springframework.org/schema/batch http://www.springframework.org/schema/batch/spring-batch-2.1.xsd
		http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd">

    <job id="grouponKlang" xmlns="http://www.springframework.org/schema/batch">
        <step id="step1" next="step1">
            <tasklet start-limit="1">
                <chunk commit-interval="1" reader="itemReader" writer="itemWriter" processor="grouponProcessor" />
            </tasklet>
        </step>
    </job>

    <bean id="itemWriter" class="com.dealchan.backend.batch.RSSWriter"/>

    <bean id="grouponProcessor" class="com.dealchan.backend.batch.GrouponProcessor" />

    <bean id="itemReader" class="com.dealchan.backend.batch.RSSReader" scope="step">
        <constructor-arg value="http://api-asia.groupon.de/feed/api/v1/deals/oftheday/MY/klang-valley-kuala-lumpur"/>
    </bean>

</beans>